<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TOML parser</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<h1>TOML parser</h1>
<p><b>Version:</b> 0.3.0</p>
<p><b>Authors:</b> Stanislaw Klekot (<a href="mailto:dozzie@jarowit.net"><tt>dozzie@jarowit.net</tt></a>).</p>
<p><b>See also:</b> <a href="toml.html">toml</a>.</p>


<p><code>toml</code> is an Erlang library application for parsing
<a href="https://github.com/toml-lang/toml" target="_parent">TOML</a>
configuration language. It supports parsing 0.4.0 version of the TOML
specification.</p>

<p>Since TOML is a format for configuration files instead of general purpose
serialization, <code>toml</code> library focuses on reading the configuration parameters.</p>

<p><a docgen-rel="seemfa" docgen-href="toml#parse/2" href="toml.html#parse-2"><code>toml:parse/2</code></a> and <a docgen-rel="seemfa" docgen-href="toml#read_file/2" href="toml.html#read_file-2"><code>toml:read_file/2</code></a> allow user to provide
a validation callback, which can check correctness of a value (e.g. if
a listen address in <i>listen="host:port"</i> has proper format) and even
convert such values to a usable Erlang data structure. All this happens at the
time of reading a configuration file, so any errors can be rejected in uniform
manner.</p>

In smaller scale, <a docgen-rel="seemfa" docgen-href="toml#get_value/3" href="toml.html#get_value-3"><code>toml:get_value/3</code></a> returns values as tuples tagged
with value type. This allows to fail early and with clear error on an
obviously invalid parameter:
<pre># [spool]
# directory = 1024
{string, SpoolDir} = toml:get_value(["spool"], "directory", Config).</pre>

<p>Configuration usually consists of flags and parameters and not of complex,
nested data structures, so <code>toml</code> leans towards simple sections (or
<i>tables</i>, how TOML calls them) and simple access to values in them.
Still, all the TOML specification is supported, so nested structures are
available. See <code><a href="/Users/liamstrand/Desktop/Tufts/Sophomore/cs21/final-project/toml/doc/toml.html#type-toml_value">toml:toml_value()</a></code> and <code><a href="/Users/liamstrand/Desktop/Tufts/Sophomore/cs21/final-project/toml/doc/toml.html#type-toml_array">toml:toml_array()</a></code> types
for details.</p>

<h3><a name="Usage_example">Usage example</a></h3>

<p>Let's assume an input file called <code>config.toml</code> has following content:</p>

<pre>lipsum = "lorem ipsum dolor sit amet"

[apples]
count = 2

[berry.black]
has_some = true</pre>

<p>Configuration from this file can be retrieved in following manner:</p>

<pre>{ok, Config} = toml:read_file("config.toml").
{string, Val1} = toml:get_value([], "lipsum", Config).
{integer, Val2} = toml:get_value(["apples"], "count", Config).
{boolean, Val3} = toml:get_value(["berry", "black"], "has_some", Config).
none = toml:get_value([], "oranges", Config).</pre>

<hr>
<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc</i></p>
</body>
</html>
